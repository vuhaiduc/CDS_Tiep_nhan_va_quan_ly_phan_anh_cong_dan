<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>H·ªá th·ªëng ti·∫øp nh·∫≠n ph·∫£n √°nh</title>
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const loggedInUser = localStorage.getItem("currentUser");
      if (!loggedInUser) window.location.replace("./login.html");

      // Xem tr∆∞·ªõc ·∫£nh khi ch·ªçn file
      const imageInput = document.getElementById("imageInput");
      const imgPreview = document.getElementById("imgPreview");

      imageInput.addEventListener("change", () => {
        const file = imageInput.files[0];
        if (file) {
          const reader = new FileReader();
          reader.onload = (e) => {
            imgPreview.innerHTML = `<img src="${e.target.result}" alt="Xem tr∆∞·ªõc">`;
          };
          reader.readAsDataURL(file);
        } else {
          imgPreview.innerHTML = "Ch∆∞a ch·ªçn ·∫£nh";
        }
      });
    });
  </script>
  <link rel="stylesheet" href="../css/home.css" />
</head>
<body>
  <!-- Header -->
  <header class="site-header">
    <div class="header-inner">
      <div class="brand">
        <img class="logo" src="file:///C:/Users/Admin/Downloads/z7124628162560_550cf460932c5867c27bcd9babde6819_preview_rev_1-removebg-preview%20(1).png" alt="logo">
        <div class="brand-text">
          <div class="app-title">H·ªÜ TH·ªêNG TI·∫æP NH·∫¨N PH·∫¢N √ÅNH</div>
        </div>
      </div>
      <div id="userArea" class="user-area"></div>
    </div>
  </header>

  <main class="page-main">
    <!-- Form g·ª≠i ph·∫£n √°nh -->
    <section class="panel form-panel">
      <h2>üì¢ G·ª≠i ph·∫£n √°nh</h2>
      <form id="reportForm" class="report-form" autocomplete="off">
        <div class="form-grid">
          <div>
            <label>H·ªç v√† t√™n</label>
            <input id="fullname" type="text" placeholder="Nguy·ªÖn VƒÉn A" required>
          </div>
          <div>
            <label>S·ªë ƒëi·ªán tho·∫°i</label>
            <input id="phone" type="tel" placeholder="0912xxxxxx">
          </div>
          <div>
            <label>Email</label>
            <input id="email" type="email" placeholder="email@vd.com" required>
          </div>
          <div>
            <label>Danh m·ª•c</label>
            <select id="category">
              <option value="Giao th√¥ng">Giao th√¥ng</option>
              <option value="M√¥i tr∆∞·ªùng">M√¥i tr∆∞·ªùng</option>
              <option value="An ninh">An ninh</option>
              <option value="D·ªãch v·ª• c√¥ng">D·ªãch v·ª• c√¥ng</option>
              <option value="Kh√°c">Kh√°c</option>
            </select>
          </div>
        </div>

        <div class="form-group">
          <label>Ti√™u ƒë·ªÅ</label>
          <input id="title" type="text" placeholder="V√≠ d·ª•: √î nhi·ªÖm c·ªëng r√£nh ph·ªë X" required>
        </div>

        <div class="form-group">
          <label>N·ªôi dung</label>
          <textarea id="desc" rows="5" placeholder="M√¥ t·∫£ chi ti·∫øt: ƒë·ªãa ch·ªâ, th·ªùi gian, ·∫£nh (n·∫øu c√≥)..." required></textarea>
        </div>

        <div class="form-grid">
          <div>
            <label>·∫¢nh minh h·ªça (t√πy ch·ªçn)</label>
            <input id="imageInput" type="file" accept="image/*">
          </div>
          <div class="preview-box">
            <label>Xem tr∆∞·ªõc</label>
            <div id="imgPreview" class="img-preview">Ch∆∞a ch·ªçn ·∫£nh</div>
          </div>
        </div>

        <div class="actions">
          <button id="submitBtn" class="btn primary" type="submit">G·ª≠i ph·∫£n √°nh</button>
          <button id="clearBtn" class="btn ghost" type="button">X√≥a form</button>
        </div>
      </form>
    </section>

    <!-- Danh s√°ch ph·∫£n √°nh -->
    <section class="panel my-complaints-panel">
      <h2>üìú Danh s√°ch ph·∫£n √°nh c·ªßa t√¥i</h2>
      <div id="myComplaintList" class="complaint-list">Ch∆∞a c√≥ ph·∫£n √°nh</div>
    </section>

    <!-- Tin t·ª©c -->
    <section class="news-section">
      <h2>üì∞ Tin t·ª©c & Th√¥ng b√°o</h2>
      <div class="news-container">
        <div class="news-card">
          <img src="https://bcp.cdnchinhphu.vn/334894974524682240/2022/7/22/ket-cau-ha-tang-giao-thong-duong-bo-1658482994724969609410.jpg" alt="">
          <div class="news-overlay">
            <h3>H√† N·ªôi n√¢ng c·∫•p h·ªá th·ªëng h·∫° t·∫ßng giao th√¥ng</h3>
            <p>Th√†nh ph·ªë tri·ªÉn khai nhi·ªÅu d·ª± √°n m·ªü r·ªông ƒë∆∞·ªùng, gi·∫£m √πn t·∫Øc.</p>
          </div>
        </div>

        <div class="news-card">
          <img src="https://mtcs.1cdn.vn/2024/01/09/moi-truong.jpeg" alt="">
          <div class="news-overlay">
            <h3>Chi·∫øn d·ªãch l√†m s·∫°ch m√¥i tr∆∞·ªùng ƒë√¥ th·ªã</h3>
            <p>C√°c qu·∫≠n ph√°t ƒë·ªông nhi·ªÅu ch∆∞∆°ng tr√¨nh t√¨nh nguy·ªán d·ªçn v·ªá sinh.</p>
          </div>
        </div>

        <div class="news-card">
          <img src="https://image.anninhthudo.vn/1200x630/Uploaded/2025/ohaybun/2023_11_29/anhhadong-3636.jpg" alt="">
          <div class="news-overlay">
            <h3>TƒÉng c∆∞·ªùng ƒë·∫£m b·∫£o an ninh ƒë√¥ th·ªã</h3>
            <p>L·ª±c l∆∞·ª£ng ch·ª©c nƒÉng ki·ªÉm tra, x·ª≠ l√Ω c√°c vi ph·∫°m tr·∫≠t t·ª± c√¥ng c·ªông.</p>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- Modal xem ·∫£nh -->
  <div id="imgModal" class="modal" style="display:none">
    <div class="modal-inner">
      <button id="modalClose" class="modal-close">‚úï</button>
      <img id="modalImg" alt="preview" />
    </div>
  </div>

  <footer class="site-footer">
    ¬© 2025 H·ªá th·ªëng ph·∫£n √°nh c√¥ng d√¢n 
  </footer>

  <script src="../js/home.js"></script>
</body>
</html>
